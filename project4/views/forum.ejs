<!-- filepath: c:\Users\Brayan Duque\Documents\nodeOdinProject\project4\views\forum.ejs -->
<%- include("partials/header") %>
<div class="max-w-xl mx-auto mt-8 bg-white p-6 rounded shadow">
  <h1 class="text-2xl font-bold mb-4 text-green-700">Foro de Mensajes</h1>
  <form action="/mensaje" method="POST" class="mb-6">
    <input type="text" name="usuario" placeholder="Tu nombre" required class="border px-3 py-2 rounded w-full mb-2">
    <textarea name="texto" placeholder="Escribe tu mensaje..." required class="border px-3 py-2 rounded w-full mb-2"></textarea>
    <button type="submit" class="bg-green-700 text-white px-4 py-2 rounded hover:bg-green-800">Enviar</button>
  </form>
  <div>
    <% if (mensajes.length === 0) { %>
      <p class="text-gray-500">No hay mensajes aÃºn.</p>
    <% } else { %>
      <% mensajes.forEach(msg => { %>
        <div class="border-b py-2">
          <strong class="text-green-700"><%= msg.usuario %></strong>
          <span class="text-gray-400 text-xs">(<%= msg.fecha %>)</span>
          <p class="text-gray-700"><%= msg.texto %></p>
        </div>
      <% }) %>
    <% } %>
  </div>
</div>